<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<title>Gesture</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,700,1,0&display=swap" rel="stylesheet">
<style>
:root{--bg:#F9F5EC;--pill:rgba(255,255,255,.8);--radius:24px;}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
body{font-family:'Inter',sans-serif;background:var(--bg);color:#000;display:flex;flex-direction:column;min-height:100vh;}
.material-symbols-rounded{font-variation-settings:'FILL' 1,'wght' 700,'GRAD' 0,'opsz' 24;}
#arena{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;height:calc(var(--vh,1vh)*100);}
#cue{font-size:64px;opacity:0;transform:scale(.5);transition:opacity .2s ease,transform .2s ease;}
#arena.show #cue{opacity:1;transform:scale(1);}
#score{position:absolute;top:calc(env(safe-area-inset-top) + 12px);right:16px;font-weight:600;}
.nav{position:fixed;left:0;right:0;bottom:calc(env(safe-area-inset-bottom) + 8px);display:flex;justify-content:center;padding:0 16px;}
.pill{height:48px;border-radius:var(--radius);border:none;background:var(--pill);backdrop-filter:blur(10px);box-shadow:0 2px 4px rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center;width:60vw;max-width:300px;}
@keyframes shake{0%,100%{transform:translateX(0);}25%{transform:translateX(-8px);}75%{transform:translateX(8px);}}
#arena.shake{animation:shake .3s ease;}
</style>
</head>
<body>
<div id="arena">
  <div id="cue" class="material-symbols-rounded"></div>
  <div id="score"></div>
</div>
<nav class="nav"><button id="start" class="pill"><span class="material-symbols-rounded">play_arrow</span></button></nav>
<script>
function setVH(){document.documentElement.style.setProperty('--vh',window.innerHeight*0.01+'px');}
setVH();window.addEventListener('resize',setVH);
const steps=['left','right','up','down','tap'];
const arena=document.getElementById('arena');
const cue=document.getElementById('cue');
const scoreEl=document.getElementById('score');
const startBtn=document.getElementById('start');
let playing=false,current=null,score=0,startX,startY;
function icon(dir){return{left:'arrow_back',right:'arrow_forward',up:'arrow_upward',down:'arrow_downward',tap:'touch_app'}[dir];}
function next(){current=steps[Math.floor(Math.random()*steps.length)];cue.textContent=icon(current);arena.classList.add('show');}
function reset(){playing=false;score=0;scoreEl.textContent='';cue.textContent='';arena.classList.remove('show');startBtn.querySelector('span').textContent='play_arrow';}
startBtn.onclick=()=>{if(playing){reset();}else{playing=true;score=0;scoreEl.textContent='';next();startBtn.querySelector('span').textContent='close';}};
arena.addEventListener('touchstart',e=>{if(!playing)return;const t=e.touches[0];startX=t.clientX;startY=t.clientY;});
arena.addEventListener('touchend',e=>{if(!playing)return;const t=e.changedTouches[0];const dx=t.clientX-startX;const dy=t.clientY-startY;let dir;if(Math.abs(dx)>Math.abs(dy)){dir=dx>30?'right':dx<-30?'left':null;}else{dir=dy>30?'down':dy<-30?'up':null;}if(!dir)dir='tap';arena.classList.remove('show');if(dir===current){score++;scoreEl.textContent=score;setTimeout(next,250);}else{arena.classList.add('shake');setTimeout(()=>arena.classList.remove('shake'),300);reset();}});
</script>
</body>
</html>
