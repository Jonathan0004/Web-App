<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<title>Notes</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,700,1,0&display=swap" rel="stylesheet">
<style>
:root{--bg:#F9F5EC;}
html,body{margin:0;padding:0;background:var(--bg);height:100%;font-family:'Inter',sans-serif;color:#222;}
body{display:flex;flex-direction:column;height:calc(var(--vh,1vh)*100);}
main{flex:1;overflow:auto;padding:16px;padding-bottom:calc(112px + env(safe-area-inset-bottom));transition:filter .3s;}
.note{background:rgba(255,255,255,0.6);backdrop-filter:blur(0);border-radius:16px;padding:12px 16px;margin-bottom:12px;position:relative;opacity:0;transform:translateY(10px);filter:blur(4px);transition:.3s;}
.note.show{opacity:1;transform:none;backdrop-filter:blur(10px);filter:blur(0);}
.note .delete{position:absolute;top:8px;right:8px;background:transparent;border:none;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:12px;}
.toolbar{position:fixed;left:0;right:0;bottom:0;padding:8px;padding-bottom:calc(8px + env(safe-area-inset-bottom));display:flex;justify-content:center;gap:8px;pointer-events:none;transition:filter .3s;}
.toolbar> *{pointer-events:auto;height:44px;}
  #search{flex:1;max-width:280px;border:none;border-radius:22px;padding:0 16px;font-size:16px;background:rgba(255,255,255,0.6);backdrop-filter:blur(10px);transition:backdrop-filter .3s;box-shadow:0 4px 12px rgba(0,0,0,0.1);animation:float 3s ease-in-out infinite;}
  #search:focus{outline:none;backdrop-filter:blur(12px);}
  #search.bounce{animation:float 3s ease-in-out infinite,bounce .3s;}
  @keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-3px);}}
  @keyframes bounce{0%{transform:translateY(0);}30%{transform:translateY(-5px);}50%{transform:translateY(0);}70%{transform:translateY(-2px);}100%{transform:translateY(0);}}
#add{width:44px;border:none;border-radius:22px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.6);backdrop-filter:blur(10px);color:#007aff;transition:backdrop-filter .3s;box-shadow:0 4px 12px rgba(0,0,0,0.1);animation:float 3s ease-in-out infinite;}
#add:hover{backdrop-filter:blur(12px);}
#add.bounce{animation:float 3s ease-in-out infinite,bounce .3s;}
.material-symbols-rounded{font-variation-settings:'FILL' 1,'wght' 700,'GRAD'0,'opsz'24;font-size:24px;}
#composer{position:fixed;inset:0;background:rgba(0,0,0,0.2);display:none;align-items:center;justify-content:center;opacity:0;transition:.3s;}
#composer.show{display:flex;opacity:1;}
body.composer-open main,body.composer-open .toolbar{filter:blur(10px);}
.sheet{width:90%;max-width:500px;background:var(--bg);border-radius:24px;padding:16px;display:flex;flex-direction:column;gap:16px;transform:translateY(20px);backdrop-filter:blur(0);transition:.3s;}
#composer.show .sheet{transform:none;backdrop-filter:blur(10px);}
.sheet textarea{border:none;resize:none;background:transparent;height:120px;font-size:16px;opacity:0;transform:translateY(10px);filter:blur(4px);transition:.3s;}
.sheet textarea:focus{outline:none;}
#composer.show .sheet textarea{opacity:1;transform:none;filter:blur(0);}
.sheet .actions{display:flex;justify-content:flex-end;gap:8px;}
.sheet .actions button{width:44px;height:44px;border:none;border-radius:22px;background:rgba(255,255,255,0.6);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;color:#007aff;transition:backdrop-filter .3s;}
.sheet .actions button:hover{backdrop-filter:blur(12px);}
</style>
</head>
<body>
<main id="list"></main>
<nav class="toolbar">
  <input id="search" type="search" placeholder="Search" autocomplete="off">
  <button id="add" aria-label="Add"><span class="material-symbols-rounded">add</span></button>
</nav>
<div id="composer">
  <div class="sheet">
    <textarea id="text" maxlength="1000" placeholder="Note"></textarea>
    <div class="actions">
      <button id="cancel" aria-label="Cancel"><span class="material-symbols-rounded">close</span></button>
      <button id="save" aria-label="Save"><span class="material-symbols-rounded">check</span></button>
    </div>
  </div>
</div>
<script>
(function(){function setVH(){document.documentElement.style.setProperty('--vh',window.innerHeight*0.01+'px');}setVH();window.addEventListener('resize',setVH);})();
const list=document.getElementById('list');
const search=document.getElementById('search');
const add=document.getElementById('add');
const composer=document.getElementById('composer');
const text=document.getElementById('text');
const saveBtn=document.getElementById('save');
const cancelBtn=document.getElementById('cancel');
let notes=JSON.parse(localStorage.getItem('notes')||'[]');
function save(){localStorage.setItem('notes',JSON.stringify(notes));}
function render(){list.innerHTML='';notes.forEach((t,i)=>{const n=document.createElement('div');n.className='note';n.innerHTML='<p>'+t+'</p><button class="delete" aria-label="Delete"><span class="material-symbols-rounded">close</span></button>';n.querySelector('.delete').onclick=()=>{notes.splice(i,1);save();render();};list.appendChild(n);requestAnimationFrame(()=>n.classList.add('show'));});}
add.onclick=()=>{document.body.classList.add('composer-open');composer.classList.add('show');text.focus();add.classList.add('bounce');};
cancelBtn.onclick=()=>{document.body.classList.remove('composer-open');composer.classList.remove('show');text.value='';};
saveBtn.onclick=()=>{const t=text.value.trim();if(t){notes.unshift(t);save();render();}document.body.classList.remove('composer-open');composer.classList.remove('show');text.value='';};
  search.oninput=e=>{const q=e.target.value.toLowerCase();[...list.children].forEach(n=>{const match=n.textContent.toLowerCase().includes(q);n.style.display=match?'':'none';});};
  search.addEventListener('click',()=>{search.classList.add('bounce');});
  search.addEventListener('animationend',e=>{if(e.animationName==='bounce')search.classList.remove('bounce');});
  add.addEventListener('animationend',e=>{if(e.animationName==='bounce')add.classList.remove('bounce');});
  render();
</script>
</body>
</html>
