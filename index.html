<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<title>Scroll</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0&display=swap" rel="stylesheet">
<style>
:root{--vh:1vh;}
html,body{height:100%;margin:0;background:#F9F5EC;font-family:'Inter',sans-serif;overflow:hidden;-webkit-user-select:none;user-select:none;}
main{height:calc(var(--vh)*100);overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;touch-action:pan-y;scroll-behavior:smooth;}
section{height:calc(var(--vh)*100);scroll-snap-align:start;position:relative;display:flex;align-items:center;justify-content:center;animation:fade .5s ease;}
img{width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .4s ease;}
nav{position:fixed;left:50%;bottom:calc(env(safe-area-inset-bottom) + 16px);transform:translateX(-50%);display:flex;gap:12px;z-index:10;}
.pill{width:64px;height:40px;border:none;border-radius:20px;background:rgba(255,255,255,.6);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;padding:0;color:#222;}
.pill span{font-size:24px;line-height:1;font-variation-settings:'FILL' 1,'wght' 400,'GRAD' 0,'opsz' 24;}
@keyframes fade{from{opacity:0;transform:scale(.97);}to{opacity:1;transform:scale(1);}}
dialog{border:none;border-radius:12px;padding:20px;max-width:90%;background:rgba(255,255,255,.9);backdrop-filter:blur(20px);}
dialog form{display:flex;gap:8px;}
dialog input,dialog button{border:none;border-radius:20px;background:rgba(255,255,255,.6);backdrop-filter:blur(20px);padding:8px 12px;color:#222;}
dialog input{flex:1;}
dialog button{cursor:pointer;}
body.dark{background:#222;color:#eee;}
body.dark nav .pill,body.dark dialog input,body.dark dialog button{background:rgba(0,0,0,.6);color:#eee;}
body.dark dialog{background:rgba(34,34,34,.9);}
</style>
</head>
<body>
<main id="feed"></main>
 <nav>
   <button id="homeBtn" class="pill"><span class="material-symbols-rounded">home</span></button>
   <button id="searchBtn" class="pill"><span class="material-symbols-rounded">search</span></button>
   <button id="profileBtn" class="pill"><span class="material-symbols-rounded">person</span></button>
   <button id="themeBtn" class="pill"><span class="material-symbols-rounded">dark_mode</span></button>
 </nav>
<dialog id="searchDialog">
  <form id="searchForm" method="dialog">
    <input id="searchInput" type="text" placeholder="Image seed" />
    <button type="submit">Add</button>
    <button type="button" id="searchCancel">Cancel</button>
  </form>
</dialog>
<dialog id="profileDialog">
  <p>Profile coming soonâ€¦</p>
  <form method="dialog">
    <button>Close</button>
  </form>
</dialog>
<script>
const feed=document.getElementById('feed');
let i=0;
function setVH(){document.documentElement.style.setProperty('--vh', (window.innerHeight*0.01)+'px');}
setVH(); addEventListener('resize', setVH);
function addImage(seed=Date.now()+i++){
  const sec=document.createElement('section');
  const img=new Image();
  img.src=`https://picsum.photos/seed/${seed}/1080/1920`;
  img.alt='';
  img.onload=()=>{img.style.opacity='1';};
  sec.appendChild(img);
  feed.appendChild(sec);
}
feed.addEventListener('scroll',()=>{
  if(feed.scrollTop + feed.clientHeight >= feed.scrollHeight-2) addImage();
});
for(let j=0;j<3;j++) addImage();

const homeBtn=document.getElementById('homeBtn');
const searchBtn=document.getElementById('searchBtn');
const profileBtn=document.getElementById('profileBtn');
const themeBtn=document.getElementById('themeBtn');
const searchDialog=document.getElementById('searchDialog');
const searchForm=document.getElementById('searchForm');
const searchInput=document.getElementById('searchInput');
const searchCancel=document.getElementById('searchCancel');
const profileDialog=document.getElementById('profileDialog');

homeBtn.addEventListener('click',()=>{
  feed.scrollTo({top:0,behavior:'smooth'});
});

searchBtn.addEventListener('click',()=>{
  searchInput.value='';
  searchDialog.showModal();
  searchInput.focus();
});

searchForm.addEventListener('submit',e=>{
  e.preventDefault();
  const seed=searchInput.value.trim();
  if(seed){
    addImage(seed);
    searchDialog.close();
  }
});

searchCancel.addEventListener('click',()=>{
  searchDialog.close();
});

profileBtn.addEventListener('click',()=>{
  profileDialog.showModal();
});

let dark=false;
themeBtn.addEventListener('click',()=>{
  dark=!dark;
  document.body.classList.toggle('dark',dark);
  themeBtn.querySelector('span').textContent=dark?'light_mode':'dark_mode';
});
</script>
</body>
</html>
